\hypertarget{classbase__local__planner_1_1MapGridCostFunction}{}\doxysection{base\+\_\+local\+\_\+planner\+::Map\+Grid\+Cost\+Function类 参考}
\label{classbase__local__planner_1_1MapGridCostFunction}\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}


{\ttfamily \#include $<$map\+\_\+grid\+\_\+cost\+\_\+function.\+h$>$}

类 base\+\_\+local\+\_\+planner\+::Map\+Grid\+Cost\+Function 继承关系图\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classbase__local__planner_1_1MapGridCostFunction}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a37e0fd0048db78bb703946b56daafe25}\label{classbase__local__planner_1_1MapGridCostFunction_a37e0fd0048db78bb703946b56daafe25}} 
{\bfseries Map\+Grid\+Cost\+Function} (\mbox{\hyperlink{classcostmap__2d_1_1Costmap2D}{costmap\+\_\+2d\+::\+Costmap2D}} $\ast$costmap, double xshift=0.\+0, double yshift=0.\+0, bool is\+\_\+local\+\_\+goal\+\_\+function=false, Cost\+Aggregation\+Type aggregation\+Type=Last)
\item 
void \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_a07f336c23114bcd9ea8fa24462465277}{set\+Target\+Poses}} (std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ target\+\_\+poses)
\item 
\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a7a3d73260adc793dde0317b532b29f8a}\label{classbase__local__planner_1_1MapGridCostFunction_a7a3d73260adc793dde0317b532b29f8a}} 
void {\bfseries set\+XShift} (double xshift)
\item 
\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a08fbe47f2c31ea241b86d5e61b47428a}\label{classbase__local__planner_1_1MapGridCostFunction_a08fbe47f2c31ea241b86d5e61b47428a}} 
void {\bfseries set\+YShift} (double yshift)
\item 
void \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_a02c1cdf742342db135a15eaaad3a8d86}{set\+Stop\+On\+Failure}} (bool stop\+\_\+on\+\_\+failure)
\begin{DoxyCompactList}\small\item\em If true, failures along the path cause the entire path to be rejected. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_af3f80d67ddeefec5871b4828ddafb5dc}{prepare}} ()
\item 
double \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_a4332b1fd1c72795c87fb5d3a427df476}{score\+Trajectory}} (\mbox{\hyperlink{classbase__local__planner_1_1Trajectory}{Trajectory}} \&traj)
\item 
double \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_a14783081aef0e5f4702edf317a10c167}{obstacle\+Costs}} ()
\item 
double \mbox{\hyperlink{classbase__local__planner_1_1MapGridCostFunction_a9e561793dbbb51118834f19673e17892}{unreachable\+Cell\+Costs}} ()
\item 
\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a0a9cdd8ffef9d7cfe3c7a8c38a6e6e33}\label{classbase__local__planner_1_1MapGridCostFunction_a0a9cdd8ffef9d7cfe3c7a8c38a6e6e33}} 
double {\bfseries get\+Cell\+Costs} (unsigned int cx, unsigned int cy)
\end{DoxyCompactItemize}
\doxysubsection*{额外继承的成员函数}


\doxysubsection{详细描述}
This class provides cost based on a map\+\_\+grid of a small area of the world. The map\+\_\+grid covers a the costmap, the costmap containing the information about sensed obstacles. The map\+\_\+grid is used by setting certain cells to distance 0, and then propagating distances around them, filling up the area reachable around them.

The approach using grid\+\_\+maps is used for computational efficiency, allowing to score hundreds of trajectories very quickly.

This can be used to favor trajectories which stay on a given path, or which approach a given goal. 
\begin{DoxyParams}{参数}
{\em costmap\+\_\+ros} & Reference to object giving updates of obstacles around robot \\
\hline
{\em xshift} & where the scoring point is with respect to robot center pose \\
\hline
{\em yshift} & where the scoring point is with respect to robot center pose \\
\hline
{\em is\+\_\+local\+\_\+goal\+\_\+function,scores} & for local goal rather than whole path \\
\hline
{\em aggregation\+Type} & how to combine costs along trajectory \\
\hline
\end{DoxyParams}


\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a14783081aef0e5f4702edf317a10c167}\label{classbase__local__planner_1_1MapGridCostFunction_a14783081aef0e5f4702edf317a10c167}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!obstacleCosts@{obstacleCosts}}
\index{obstacleCosts@{obstacleCosts}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{obstacleCosts()}{obstacleCosts()}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::obstacle\+Costs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

return a value that indicates cell is in obstacle \mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_af3f80d67ddeefec5871b4828ddafb5dc}\label{classbase__local__planner_1_1MapGridCostFunction_af3f80d67ddeefec5871b4828ddafb5dc}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!prepare@{prepare}}
\index{prepare@{prepare}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{prepare()}{prepare()}}
{\footnotesize\ttfamily bool base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::prepare (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

propagate distances 

实现了 \mbox{\hyperlink{classbase__local__planner_1_1TrajectoryCostFunction_a351dddca226f210a09bd10c151e2975f}{base\+\_\+local\+\_\+planner\+::\+Trajectory\+Cost\+Function}}.

\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a4332b1fd1c72795c87fb5d3a427df476}\label{classbase__local__planner_1_1MapGridCostFunction_a4332b1fd1c72795c87fb5d3a427df476}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!scoreTrajectory@{scoreTrajectory}}
\index{scoreTrajectory@{scoreTrajectory}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{scoreTrajectory()}{scoreTrajectory()}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::score\+Trajectory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbase__local__planner_1_1Trajectory}{Trajectory}} \&}]{traj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

return a score for trajectory traj 

实现了 \mbox{\hyperlink{classbase__local__planner_1_1TrajectoryCostFunction_a6908a8071270b455fc25b48db76e2d3c}{base\+\_\+local\+\_\+planner\+::\+Trajectory\+Cost\+Function}}.

\mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a02c1cdf742342db135a15eaaad3a8d86}\label{classbase__local__planner_1_1MapGridCostFunction_a02c1cdf742342db135a15eaaad3a8d86}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!setStopOnFailure@{setStopOnFailure}}
\index{setStopOnFailure@{setStopOnFailure}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{setStopOnFailure()}{setStopOnFailure()}}
{\footnotesize\ttfamily void base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::set\+Stop\+On\+Failure (\begin{DoxyParamCaption}\item[{bool}]{stop\+\_\+on\+\_\+failure }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



If true, failures along the path cause the entire path to be rejected. 

Default is true. \mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a07f336c23114bcd9ea8fa24462465277}\label{classbase__local__planner_1_1MapGridCostFunction_a07f336c23114bcd9ea8fa24462465277}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!setTargetPoses@{setTargetPoses}}
\index{setTargetPoses@{setTargetPoses}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{setTargetPoses()}{setTargetPoses()}}
{\footnotesize\ttfamily void base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::set\+Target\+Poses (\begin{DoxyParamCaption}\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$}]{target\+\_\+poses }\end{DoxyParamCaption})}

set line segments on the grid with distance 0, resets the grid \mbox{\Hypertarget{classbase__local__planner_1_1MapGridCostFunction_a9e561793dbbb51118834f19673e17892}\label{classbase__local__planner_1_1MapGridCostFunction_a9e561793dbbb51118834f19673e17892}} 
\index{base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}!unreachableCellCosts@{unreachableCellCosts}}
\index{unreachableCellCosts@{unreachableCellCosts}!base\_local\_planner::MapGridCostFunction@{base\_local\_planner::MapGridCostFunction}}
\doxysubsubsection{\texorpdfstring{unreachableCellCosts()}{unreachableCellCosts()}}
{\footnotesize\ttfamily double base\+\_\+local\+\_\+planner\+::\+Map\+Grid\+Cost\+Function\+::unreachable\+Cell\+Costs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

returns a value indicating cell was not reached by wavefront propagation of set cells. (is behind walls, regarding the region covered by grid) 

该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
base\+\_\+local\+\_\+planner/include/base\+\_\+local\+\_\+planner/map\+\_\+grid\+\_\+cost\+\_\+function.\+h\end{DoxyCompactItemize}
